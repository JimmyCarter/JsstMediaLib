plugins {
    id 'com.android.library'
    id 'maven-publish'
}

android {
    compileSdkVersion 30
    defaultConfig {
        minSdkVersion 21
        targetSdkVersion 30
        versionCode 1
        versionName "1.0"
    }
}

// 告诉 JitPack 使用已编译的 AAR 文件
task copyAar(type: Copy) {
    from 'JsstMediaLib.aar'
    into "$buildDir/outputs/aar"
}

publishing {
    publications {
        aar(MavenPublication) {
            groupId = 'com.github.JimmyCarter'
            artifactId = 'JsstMediaLib'
            version = '1.0.9'
            artifact("$buildDir/outputs/aar/JsstMediaLib.aar")
        }
    }
}

build.dependsOn copyAar